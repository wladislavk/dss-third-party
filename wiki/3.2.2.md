# 3.2.2. Separation of business logic from models and repositories

Even though the repository code is decoupled from models, still there SHOULD be
further refactoring done, because it is very inconvenient to unit-test repository
classes with all their Eloquent calls that would need to be mocked otherwise.

To save time and effort while creating mocks, business logic MUST be further decoupled
from repositories into unit-testable service classes. In other words, repository methods MUST NOT
contain any conditionals. However, service classes SHOULD NOT contain Eloquent
methods such as `where()`, `select()` etc., since they all SHOULD be located on
repository classes. 

If there is a need to change query definition several times at runtime, a repository 
class MAY be able to keep a query object as its property, therefore repository classes 
MUST NOT be registered as singletons in the service container.

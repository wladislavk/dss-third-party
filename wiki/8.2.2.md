# 8.2.2. Pull requests and merging

A pull request MUST be created before the actual upstream merging happens. The pull request SHOULD be created 
once the creator considers the code is ready to merge, but it MAY be created prior to that if feedback is 
needed from the team.

Merging MUST NOT happen before a pull request is present.

When a developer decides to create a PR, they MUST ensure that:
* downstream merging was performed immediately before the PR is made, and any merge conflicts were fixed
* good enough test coverage is provided
* all needed tests, including acceptance, were run, and they all pass.

Downstream merging means that all higher branches were pulled and merged in proper order, e.g. master to
develop, develop to epic, epic to parent branch, parent branch to sub-branch. 

Pull requests MUST conform to the following rules:
* compare to parent task branch if the issue is a sub-task
* compare to the root branch if the issue is a part of an epic
* compare to master in case of bugfix
* compare to develop otherwise.

Note that if the branch is a part of an epic and it was branched off a non-root branch of the same epic,
it still needs to be compared to the root branch of the epic, not to its parent branch. However, the PR
creator MUST NOT let the child PR be created before the parent. Simultaneous creation of PR's for parent
and child is allowed, if the parent is mentioned in child's description.

The PR creator SHOULD provide a PR description containing the following information:
* any differences between the PR content and the branch / issue name
* the parent branch, if it is a non-root branch of an epic (to prevent merging the child before the parent)
* changes to gitignore'd files such as new configuration parameters
* changes to workflow such as new commands to run tests
* other repositories that contain PR's for the same issue number.

End-of-sprint merges of develop to master generally do not need a PR.
